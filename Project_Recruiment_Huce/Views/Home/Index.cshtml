@model Project_Recruiment_Huce.Models.Home.HomeIndexViewModel
@{
    ViewBag.Title = "Trang chủ";
}

 <!-- HOME -->
    <section class="home-section section-hero overlay bg-image" style="background-image: url('@Url.Content("~/Content/images/hero_1.jpg")');" id="home-section">

      <div class="container">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-12">
            <div class="mb-5 text-center">
              <h1 class="text-white font-weight-bold">Cách Dễ Dàng Nhất Để Tìm Công Việc Mơ Ước</h1>
              <p>Tìm kiếm và ứng tuyển công việc phù hợp với bạn một cách nhanh chóng và hiệu quả.</p>
            </div>
            <form method="get" action="@Url.Action("JobsListing", "Jobs")" class="search-jobs-form">
              <div class="row mb-5">
                <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                  <input type="text" name="keyword" id="keyword" class="form-control form-control-lg" placeholder="Tên công việc, Công ty..." value="@Request.QueryString["keyword"]">
                </div>
                <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                  <select name="location" id="location" class="selectpicker" data-style="btn-white btn-lg" data-width="100%" data-live-search="true" data-container="body" data-dropup-auto="false" title="Chọn khu vực">
                    <option value="">Bất kỳ đâu</option>
                    @if (ViewBag.Locations != null)
                    {
                      foreach (var loc in (List<string>)ViewBag.Locations)
                      {
                        var isSelected = Request.QueryString["location"] == loc;
                        if (isSelected)
                        {
                          <option value="@loc" selected>@loc</option>
                        }
                        else
                        {
                          <option value="@loc">@loc</option>
                        }
                      }
                    }
                    else
                    {
                      <option>Hà Nội</option>
                      <option>Hồ Chí Minh</option>
                      <option>Đà Nẵng</option>
                      <option>Hải Phòng</option>
                      <option>Cần Thơ</option>
                    }
                  </select>
                </div>
                <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                  <select name="employmentType" id="employmentType" class="selectpicker" data-style="btn-white btn-lg" data-width="100%" data-live-search="true" data-container="body" data-dropup-auto="false" title="Chọn loại công việc">
                    <option value="">Tất cả</option>
                    @{
                      var selectedEmpType = Request.QueryString["employmentType"];
                      var employmentTypeOptions = new[]
                      {
                        "Bán thời gian",
                        "Toàn thời gian",
                        "Thực tập",
                        "Hợp đồng",
                        "Làm việc từ xa"
                      };
                    }
                    @foreach (var option in employmentTypeOptions)
                    {
                      var isSelected = string.Equals(selectedEmpType, option, StringComparison.OrdinalIgnoreCase);
                      <option value="@option" @(isSelected ? "selected" : "")>@option</option>
                    }
                  </select>
                </div>
                <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
                  <button type="submit" class="btn btn-primary btn-lg btn-block text-white btn-search"><span class="icon-search icon mr-2"></span>Tìm kiếm</button>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 popular-keywords">
                  <h3>Từ khóa phổ biến:</h3>
                  <ul class="keywords list-unstyled m-0 p-0">
                    @if (ViewBag.PopularKeywords != null && ((List<string>)ViewBag.PopularKeywords).Any())
                    {
                      foreach (var keyword in ((List<string>)ViewBag.PopularKeywords).Take(5))
                      {
                        <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = keyword })" class="">@keyword</a></li>
                      }
                    }
                    else
                    {
                      <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Developer" })" class="">Developer</a></li>
                      <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Designer" })" class="">Designer</a></li>
                      <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Manager" })" class="">Manager</a></li>
                    }
                  </ul>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <a href="#next" class="scroll-button smoothscroll">
        <span class=" icon-keyboard_arrow_down"></span>
      </a>

    </section>
    
    <section class="py-5 bg-image overlay-primary fixed overlay" id="next" style="background-image: url('@Url.Content("~/Content/images/hero_1.jpg")');">
      <div class="container">
        <div class="row mb-5 justify-content-center">
          <div class="col-md-7 text-center">
            <h2 class="section-title mb-2 text-white">Thống kê JobBoard</h2>
            <p class="lead text-white">Nền tảng tuyển dụng hàng đầu kết nối ứng viên và nhà tuyển dụng.</p>
          </div>
        </div>
        <div class="row pb-0 block__19738 section-counter">

          <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
            <div class="d-flex align-items-center justify-content-center mb-2">
              <strong class="number" data-number="@Model.TotalCandidates">0</strong>
            </div>
            <span class="caption">Ứng viên</span>
          </div>

          <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
            <div class="d-flex align-items-center justify-content-center mb-2">
              <strong class="number" data-number="@Model.TotalJobPosts">0</strong>
            </div>
            <span class="caption">Tin đã đăng</span>
          </div>

          <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
            <div class="d-flex align-items-center justify-content-center mb-2">
              <strong class="number" data-number="@Model.TotalHiredJobs">0</strong>
            </div>
            <span class="caption">Việc đã tuyển</span>
          </div>

          <div class="col-6 col-md-6 col-lg-3 mb-5 mb-lg-0">
            <div class="d-flex align-items-center justify-content-center mb-2">
              <strong class="number" data-number="@Model.TotalCompanies">0</strong>
            </div>
            <span class="caption">Công ty</span>
          </div>

            
        </div>
      </div>
    </section>

    

    <section class="site-section">
      <div class="container">

        <div class="row mb-5 justify-content-center">
          <div class="col-md-7 text-center">
            <h2 class="section-title mb-2">@Model.TotalJobsCount.ToString("N0") Việc làm đã đăng</h2>
          </div>
        </div>
        
        <ul class="job-listings mb-5">
          @if (Model.RecentJobs != null && Model.RecentJobs.Any())
          {
            foreach (var job in Model.RecentJobs)
            {
              <li class="job-listing d-block d-sm-flex pb-3 pb-sm-0 align-items-center">
                <a href="@Url.Action("Details","JobDetails", new { id = job.JobPostID })"></a>
                <div class="job-listing-logo">
                  <img src="@Url.Content("~" + job.LogoUrl)" alt="@job.CompanyName" class="img-fluid">
                </div>

                <div class="job-listing-about d-sm-flex custom-width w-100 justify-content-between mx-4">
                  <div class="job-listing-position custom-width w-50 mb-3 mb-sm-0">
                    <h2>@job.Title</h2>
                    <strong>@job.CompanyName</strong>
                  </div>
                  <div class="job-listing-location mb-3 mb-sm-0 custom-width w-25">
                    @if (!string.IsNullOrEmpty(job.Location))
                    {
                      <span class="icon-room"></span> @job.Location
                    }
                  </div>
                  <div class="job-listing-meta">
                    @if (!string.IsNullOrEmpty(job.EmploymentTypeDisplay))
                    {
                      if (job.EmploymentTypeDisplay == "Bán thời gian")
                      {
                        <span class="badge badge-danger">@job.EmploymentTypeDisplay</span>
                      }
                      else
                      {
                        <span class="badge badge-success">@job.EmploymentTypeDisplay</span>
                      }
                    }
                  </div>
                </div>
              </li>
            }
          }
          else
          {
            <li class="job-listing d-block d-sm-flex pb-3 pb-sm-0 align-items-center">
              <div class="job-listing-about d-sm-flex custom-width w-100 justify-content-between mx-4">
                <div class="job-listing-position custom-width w-50 mb-3 mb-sm-0">
                  <p class="text-muted">Chưa có việc làm nào được đăng.</p>
                </div>
              </div>
            </li>
          }
        </ul>

        <div class="row pagination-wrap">
          <div class="col-md-6 text-center text-md-left mb-4 mb-md-0">
            @{
              int showingCount = Model.RecentJobs != null ? Model.RecentJobs.Count : 0;
              int totalCount = Model.TotalJobsCount;
            }
            <span>Hiển thị @showingCount trong tổng số @totalCount.ToString("N0") việc làm</span>
          </div>
          <div class="col-md-6 text-center text-md-right">
            <a href="@Url.Action("JobsListing", "Jobs")" class="btn btn-primary">Xem tất cả việc làm</a>
          </div>
        </div>

      </div>
    </section>

    <section class="py-5 bg-image overlay-primary fixed overlay" style="background-image: url('@Url.Content("~/Content/images/hero_1.jpg")');">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h2 class="text-white">Bạn Đang Tìm Việc?</h2>
            <p class="mb-0 text-white lead">Tham gia JobBoard ngay hôm nay để khám phá hàng ngàn cơ hội việc làm hấp dẫn từ các công ty hàng đầu. Tạo tài khoản miễn phí và bắt đầu hành trình tìm kiếm công việc mơ ước của bạn!</p>
          </div>
          <div class="col-md-3 ml-auto">
            @if (!User.Identity.IsAuthenticated)
            {
              <a href="@Url.Action("Register", "Account")" class="btn btn-warning btn-block btn-lg">Đăng ký ngay</a>
            }
            else
            {
              <a href="@Url.Action("JobsListing", "Jobs")" class="btn btn-warning btn-block btn-lg">Xem việc làm</a>
            }
          </div>
        </div>
      </div>
    </section>

    
    <section class="site-section py-4">
      <div class="container">
  
        <div class="row align-items-center">
          <div class="col-12 text-center mt-4 mb-5">
            <div class="row justify-content-center">
              <div class="col-md-7">
                <h2 class="section-title mb-2">Các Công Ty Đối Tác</h2>
                <p class="lead">JobBoard tự hào được tin tưởng bởi hàng trăm công ty hàng đầu trong việc tìm kiếm và tuyển dụng nhân tài. Chúng tôi cam kết mang đến giải pháp tuyển dụng hiệu quả nhất cho doanh nghiệp của bạn.</p>
              </div>
            </div>
            
          </div>
          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_mailchimp.svg")" alt="Đối tác" class="img-fluid logo-1">
          </div>
          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_paypal.svg")" alt="Đối tác" class="img-fluid logo-2">
          </div>
          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_stripe.svg")" alt="Đối tác" class="img-fluid logo-3">
          </div>
          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_visa.svg")" alt="Đối tác" class="img-fluid logo-4">
          </div>

          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_apple.svg")" alt="Đối tác" class="img-fluid logo-5">
          </div>
          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_tinder.svg")" alt="Đối tác" class="img-fluid logo-6">
          </div>
          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_sony.svg")" alt="Đối tác" class="img-fluid logo-7">
          </div>
          <div class="col-6 col-lg-3 col-md-6 text-center">
            <img src="@Url.Content("~/Content/images/logo_airbnb.svg")" alt="Đối tác" class="img-fluid logo-8">
          </div>
        </div>
      </div>
    </section>


    <section class="bg-light pt-5 testimony-full">
        
        <div class="owl-carousel single-carousel">

        
          <div class="container">
            <div class="row">
              <div class="col-lg-6 align-self-center text-center text-lg-left">
                <blockquote>
                  <p>&ldquo;JobBoard đã giúp tôi tìm được công việc mơ ước một cách nhanh chóng và dễ dàng. Giao diện thân thiện và hệ thống tìm kiếm thông minh giúp tôi nhanh chóng tìm thấy những cơ hội phù hợp với kỹ năng của mình.&rdquo;</p>
                  <p><cite> &mdash; Nguyễn Minh Tiến, Ứng viên</cite></p>
                </blockquote>
              </div>
              <div class="col-lg-6 align-self-end text-center text-lg-right">
                <img src="@Url.Content("~/Content/images/ảnh_bìa_4-Photoroom.png")" alt="Phản hồi từ ứng viên" class="img-fluid mb-0">
              </div>
            </div>
          </div>

          <div class="container">
            <div class="row">
              <div class="col-lg-6 align-self-center text-center text-lg-left">
                <blockquote>
                  <p>&ldquo;Là một nhà tuyển dụng, tôi rất hài lòng với JobBoard. Hệ thống giúp chúng tôi tiếp cận được nhiều ứng viên chất lượng và quản lý quy trình tuyển dụng một cách hiệu quả. Đây thực sự là công cụ tuyển dụng tốt nhất mà chúng tôi từng sử dụng.&rdquo;</p>
                  <p><cite> &mdash; Trần Thị B, Nhà tuyển dụng</cite></p>
                </blockquote>
              </div>
              <div class="col-lg-6 align-self-end text-center text-lg-right">
                <img src="@Url.Content("~/Content/images/ảnh_bìa_3-Photoroom.png")" alt="Phản hồi từ nhà tuyển dụng" class="img-fluid mb-0">
              </div>
            </div>
          </div>

      </div>

    </section>

    <section class="pt-5 bg-image overlay-primary fixed overlay" style="background-image: url('@Url.Content("~/Content/images/hero_1.jpg")');">
      <div class="container">
        <div class="row">
          <div class="col-md-6 align-self-center text-center text-md-left mb-5 mb-md-0">
            <h2 class="text-white">Dễ Dàng Sử Dụng Trên Điện Thoại</h2>
            <p class="mb-5 lead text-white">JobBoard hoạt động mượt mà trên mọi thiết bị. Bạn có thể tìm kiếm việc làm, ứng tuyển và theo dõi hành trình nghề nghiệp của mình ngay trên smartphone.</p>
            <p class="mb-0">
              <a href="@Url.Action("JobsListing", "Jobs")" class="btn btn-warning btn-md px-4 border-width-2"><span class="icon-search mr-3"></span>Khám phá việc làm</a>
              <a href="@Url.Action("Register", "Account")" class="btn btn-outline-light btn-md px-4 border-width-2 mt-3 mt-md-0"><span class="icon-person_add mr-3"></span>Đăng ký miễn phí</a>
            </p>
            <p class="mt-3 text-white-50 small">* Không cần cài đặt ứng dụng – chỉ cần mở JobBoard trên trình duyệt điện thoại.</p>
          </div>
          <div class="col-md-6 ml-auto align-self-end">
            <img src="@Url.Content("~/Content/images/apps.png")" alt="Ứng dụng JobBoard" class="img-fluid">
          </div>
        </div>
      </div>
    </section>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Khởi tạo lại selectpicker để hiển thị giá trị đã chọn
            if (typeof $().selectpicker !== 'undefined') {
                $('.selectpicker').selectpicker('refresh');
            }
        });
    </script>
}