@model Project_Recruiment_Huce.Models.Home.ContactPageViewModel
@{
    ViewBag.Title = "Liên hệ";
}

<section class="section-hero overlay inner-page bg-image" style="background-image: url('@Url.Content("~/Content/images/hero_1.jpg")');" id="home-section">
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <h1 class="text-white font-weight-bold">Liên hệ với chúng tôi</h1>
                <div class="custom-breadcrumbs">
                    <a href="@Url.Action("Index","Home")">Trang chủ</a> <span class="mx-2 slash">/</span>
                    <span class="text-white"><strong>Liên hệ</strong></span>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="site-section" id="next-section">
    <div class="container">
        @if (Model.IsSubmitted && !string.IsNullOrEmpty(Model.SuccessMessage))
        {
            <div class="row mb-4">
                <div class="col-12">
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <i class="icon-check-circle mr-2"></i>
                        <strong>Thành công!</strong> @Model.SuccessMessage
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
            </div>
        }
        
        <div class="row">
            <!-- Form liên hệ -->
            <div class="col-lg-7 mb-5 mb-lg-0">
                <div class="bg-white p-4 p-md-5 rounded shadow-sm">
                    <h3 class="mb-4 text-primary">
                        <i class="icon-envelope-o mr-2"></i>Gửi tin nhắn cho chúng tôi
                    </h3>
                    <p class="text-muted mb-4">
                        Nếu bạn có bất kỳ câu hỏi nào, vui lòng điền form bên dưới. Chúng tôi sẽ phản hồi trong thời gian sớm nhất.
                    </p>
                    
                    @using (Html.BeginForm("Contact", "Home", FormMethod.Post, new { @class = "contact-form" }))
                    {
                        @Html.AntiForgeryToken()
                        
                        //Hiển thị lỗi chung (như lỗi database)
                        if (ViewData.ModelState.ContainsKey("General") && ViewData.ModelState["General"].Errors.Count > 0)
                        {
                            <div class="alert alert-danger alert-dismissible fade show mb-3" role="alert">
                                <i class="icon-exclamation-triangle mr-2"></i>
                                @ViewData.ModelState["General"].Errors[0].ErrorMessage
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        }
                        
                        @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })
                        
                        <div class="row form-group">
                            <div class="col-md-6 mb-3 mb-md-0">
                                <label class="text-black font-weight-bold" for="FirstName">
                                    Họ <span class="text-danger">*</span>
                                </label>
                                @Html.TextBoxFor(m => m.ContactForm.FirstName, new { @class = "form-control", placeholder = "Nhập họ của bạn" })
                                @Html.ValidationMessageFor(m => m.ContactForm.FirstName, "", new { @class = "text-danger small" })
                            </div>
                            <div class="col-md-6">
                                <label class="text-black font-weight-bold" for="LastName">
                                    Tên <span class="text-danger">*</span>
                                </label>
                                @Html.TextBoxFor(m => m.ContactForm.LastName, new { @class = "form-control", placeholder = "Nhập tên của bạn" })
                                @Html.ValidationMessageFor(m => m.ContactForm.LastName, "", new { @class = "text-danger small" })
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-md-12">
                                <label class="text-black font-weight-bold" for="Email">
                                    Email <span class="text-danger">*</span>
                                </label>
                                @Html.TextBoxFor(m => m.ContactForm.Email, new { @class = "form-control", @type = "email", placeholder = "Nhập địa chỉ email" })
                                @Html.ValidationMessageFor(m => m.ContactForm.Email, "", new { @class = "text-danger small" })
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-md-12">
                                <label class="text-black font-weight-bold" for="Subject">
                                    Chủ đề <span class="text-danger">*</span>
                                </label>
                                @Html.TextBoxFor(m => m.ContactForm.Subject, new { @class = "form-control", placeholder = "Nhập chủ đề tin nhắn" })
                                @Html.ValidationMessageFor(m => m.ContactForm.Subject, "", new { @class = "text-danger small" })
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-md-12">
                                <label class="text-black font-weight-bold" for="Message">
                                    Nội dung <span class="text-danger">*</span>
                                </label>
                                @Html.TextAreaFor(m => m.ContactForm.Message, new { @class = "form-control", rows = 7, placeholder = "Viết nội dung tin nhắn hoặc câu hỏi của bạn tại đây..." })
                                @Html.ValidationMessageFor(m => m.ContactForm.Message, "", new { @class = "text-danger small" })
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-md-12">
                                <button type="submit" class="btn btn-primary btn-lg px-5">
                                    <i class="icon-paper-plane mr-2"></i>Gửi tin nhắn
                                </button>
                            </div>
                        </div>
                    }
                </div>
            </div>
            
            <!-- Thông tin liên hệ -->
            <div class="col-lg-5">
                <div class="bg-white p-4 p-md-5 rounded shadow-sm mb-4">
                    <h3 class="mb-4 text-primary">
                        <i class="icon-info mr-2"></i>Thông tin liên hệ
                    </h3>
                    
                    <div class="contact-info-item mb-4">
                        <div class="d-flex align-items-start">
                            <div class="icon-wrap bg-primary text-white rounded-circle p-3 mr-3">
                                <i class="icon-room" style="font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <h5 class="mb-1 font-weight-bold">Địa chỉ</h5>
                                <p class="text-muted mb-0">@Model.ContactInfo.Address</p>
                            </div>
                        </div>
                    </div>

                    <div class="contact-info-item mb-4">
                        <div class="d-flex align-items-start">
                            <div class="icon-wrap bg-success text-white rounded-circle p-3 mr-3">
                                <i class="icon-phone" style="font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <h5 class="mb-1 font-weight-bold">Điện thoại</h5>
                                <p class="text-muted mb-0">
                                    <a href="tel:@Model.ContactInfo.Phone.Replace(" ", "")" class="text-decoration-none">
                                        @Model.ContactInfo.Phone
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="contact-info-item mb-4">
                        <div class="d-flex align-items-start">
                            <div class="icon-wrap bg-info text-white rounded-circle p-3 mr-3">
                                <i class="icon-envelope-o" style="font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <h5 class="mb-1 font-weight-bold">Email</h5>
                                <p class="text-muted mb-0">
                                    <a href="mailto:@Model.ContactInfo.Email" class="text-decoration-none">
                                        @Model.ContactInfo.Email
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="contact-info-item">
                        <div class="d-flex align-items-start">
                            <div class="icon-wrap bg-warning text-white rounded-circle p-3 mr-3">
                                <i class="icon-clock-o" style="font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <h5 class="mb-1 font-weight-bold">Giờ làm việc</h5>
                                <p class="text-muted mb-0">@Model.ContactInfo.WorkingHours</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="site-section bg-light">
    <div class="container">
        <div class="row mb-5">
            <div class="col-12 text-center" data-aos="fade">
                <h2 class="section-title mb-3">Câu hỏi thường gặp</h2>
                <p class="text-muted">Một số câu hỏi phổ biến từ người dùng</p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <div class="bg-white rounded p-4 mb-4 shadow-sm">
                    <h5 class="mb-3">
                        <i class="icon-question-circle text-primary mr-2"></i>
                        Làm thế nào để đăng ký tài khoản?
                    </h5>
                    <p class="text-muted mb-0">
                        Bạn có thể đăng ký tài khoản bằng cách nhấn vào nút "Đăng ký" ở góc trên bên phải của trang web, 
                        sau đó điền các thông tin cần thiết và xác nhận email.
                    </p>
                </div>
                <div class="bg-white rounded p-4 mb-4 shadow-sm">
                    <h5 class="mb-3">
                        <i class="icon-question-circle text-primary mr-2"></i>
                        Làm sao để ứng tuyển công việc?
                    </h5>
                    <p class="text-muted mb-0">
                        Sau khi đăng nhập, bạn có thể tìm kiếm công việc phù hợp và nhấn nút "Ứng tuyển ngay". 
                        Hãy đảm bảo rằng bạn đã cập nhật CV của mình trước khi ứng tuyển.
                    </p>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="bg-white rounded p-4 mb-4 shadow-sm">
                    <h5 class="mb-3">
                        <i class="icon-question-circle text-primary mr-2"></i>
                        Chi phí sử dụng dịch vụ là bao nhiêu?
                    </h5>
                    <p class="text-muted mb-0">
                        Ứng viên hoàn toàn miễn phí khi sử dụng dịch vụ. 
                        Nhà tuyển dụng có thể chọn các gói dịch vụ phù hợp với nhu cầu của mình.
                    </p>
                </div>
                <div class="bg-white rounded p-4 mb-4 shadow-sm">
                    <h5 class="mb-3">
                        <i class="icon-question-circle text-primary mr-2"></i>
                        Thời gian phản hồi tin nhắn là bao lâu?
                    </h5>
                    <p class="text-muted mb-0">
                        Chúng tôi cam kết phản hồi trong vòng 24 giờ làm việc. 
                        Với các vấn đề khẩn cấp, bạn có thể liên hệ trực tiếp qua số điện thoại.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(document).ready(function() {
            // Focus animation for form inputs
            $('.contact-form .form-control').on('focus', function() {
                $(this).parent().addClass('focused');
            }).on('blur', function() {
                $(this).parent().removeClass('focused');
            });

            // Auto-hide success message after 5 seconds
            setTimeout(function() {
                $('.alert-success').fadeOut('slow');
            }, 5000);
        });
    </script>
}