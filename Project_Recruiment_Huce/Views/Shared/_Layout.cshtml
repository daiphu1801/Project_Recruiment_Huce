
<!doctype html>
<html lang="en">
  <head>
    <title>JobBoard &mdash; Website Template by Colorlib</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="Free-Template.co" />
    <link rel="shortcut icon" href="ftco-32x32.png">
    
    <link rel="stylesheet" href="~/Content/css/custom-bs.css">
    <link rel="stylesheet" href="~/Content/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="~/Content/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="~/Content/fonts/icomoon/style.css">
    <link rel="stylesheet" href="~/Content/fonts/line-icons/style.css">
    <link rel="stylesheet" href="~/Content/css/owl.carousel.min.css">
    <link rel="stylesheet" href="~/Content/css/animate.min.css">

    <!-- MAIN CSS -->
    <link rel="stylesheet" href="~/Content/css/style.css">    
    <style>
      /* Enhanced Dropdown Menu Styling */
      .dropdown-menu.dropdown-menu-right .dropdown-item {
        border-radius: 4px;
        margin: 2px 8px;
      }
      .dropdown-menu.dropdown-menu-right .dropdown-item:hover {
        background-color: #f8f9fa;
        transform: translateX(4px);
      }
      .dropdown-menu.dropdown-menu-right .dropdown-item:active,
      .dropdown-menu.dropdown-menu-right .dropdown-item:focus {
        background-color: #e9ecef;
        opacity: 0.95;
        outline: none;
        box-shadow: none;
      }
      .dropdown-menu.dropdown-menu-right button.dropdown-item:hover {
        background-color: #fff5f5;
        color: #dc3545 !important;
      }
      .dropdown-menu.dropdown-menu-right button.dropdown-item:active,
      .dropdown-menu.dropdown-menu-right button.dropdown-item:focus {
        background-color: #ffe0e0;
        opacity: 0.95;
        outline: none;
        box-shadow: none;
      }
      /* Mobile dropdown styling */
      .site-menu .dropdown li a:hover {
        background-color: #f8f9fa;
        padding-left: 24px;
      }
      .site-menu .dropdown li a:active,
      .site-menu .dropdown li a:focus {
        opacity: 0.95;
        outline: none;
      }
      .site-menu .dropdown li a {
        transition: all 0.2s ease;
      }
      /* Enhanced Navigation Dropdown Styling */
      .site-menu .has-children .dropdown {
        min-width: 220px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        padding: 8px 0;
        margin-top: 8px;
        border: none;
        background: #fff;
      }
      .site-menu .has-children .dropdown li {
        margin: 0;
      }
      .site-menu .has-children .dropdown li a {
        padding: 10px 20px;
        display: flex;
        align-items: center;
        border-radius: 4px;
        margin: 2px 8px;
        transition: all 0.2s ease;
        color: #333;
      }
      .site-menu .has-children .dropdown li a:hover {
        background-color: #f8f9fa;
        transform: translateX(4px);
        color: #007bff;
      }
      .site-menu .has-children .dropdown li a:active,
      .site-menu .has-children .dropdown li a:focus {
        background-color: #e9ecef;
        opacity: 0.95;
        outline: none;
        color: #007bff;
      }
    </style>
  </head>
  @RenderSection("Styles", required: false)
  <body id="top">

  <div id="overlayer"></div>
  <div class="loader">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
    

<div class="site-wrap">

    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->
    

    <!-- NAVBAR -->
    <header class="site-navbar mt-3">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="site-logo col-6"><a href="@Url.Action("Index", "Home")">JobBoard</a></div>

          <nav class="mx-auto site-navigation">
            <ul class="site-menu js-clone-nav d-none d-xl-block ml-0 pl-0">
              <li><a href="@Url.Action("Index","Home")" class="nav-link">Trang chủ</a></li>
              <li><a href="@Url.Action("About","Home")">Giới thiệu</a></li>
              @{ var roleClaim = (User != null && User.Identity != null) ? ((System.Security.Claims.ClaimsIdentity)User.Identity).FindFirst("VaiTro") : null; }
              @if (Request.IsAuthenticated && roleClaim != null && roleClaim.Value == "Recruiter")
              {
                <li class="has-children">
                  <a href="@Url.Action("JobsListing","Jobs")">Việc làm</a>
                  <ul class="dropdown">
                    <li><a href="@Url.Action("JobsCreate","Jobs")" style="display: flex; align-items: center;">
                      <span class="icon-plus mr-3" style="width: 20px; text-align: center; color: #28a745;"></span>
                      <span>Đăng tin tuyển dụng</span>
                    </a></li>
                  </ul>
                </li>
              }
              else
              {
                <li><a href="@Url.Action("JobsListing","Jobs")">Việc làm</a></li>
              }
              @if (Request.IsAuthenticated && roleClaim != null)
              {
                if (roleClaim.Value == "Candidate")
                {
                  <li><a href="@Url.Action("MyApplications","Candidates")">Đơn ứng tuyển</a></li>
                }
                else if (roleClaim.Value == "Recruiter")
                {
                  <li class="has-children">
                    <a href="#">Quản lý</a>
                    <ul class="dropdown">
                      <li><a href="@Url.Action("RecruitersManage","Recruiters")" style="display: flex; align-items: center;">
                        <span class="icon-user mr-3" style="width: 20px; text-align: center; color: #007bff;"></span>
                        <span>Hồ sơ của tôi</span>
                      </a></li>
                      <li><a href="@Url.Action("CompaniesManage","Companies")" style="display: flex; align-items: center;">
                        <span class="icon-line-briefcase mr-3" style="width: 20px; text-align: center; color: #6f42c1;"></span>
                        <span>Quản lý công ty</span>
                      </a></li>
                      <li><a href="@Url.Action("MyJobs","Jobs")" style="display: flex; align-items: center;">
                        <span class="icon-line-documents mr-3" style="width: 20px; text-align: center; color: #fd7e14;"></span>
                        <span>Tin tuyển dụng của tôi</span>
                      </a></li>
                      <li><a href="@Url.Action("MyApplications","RecruitersApplication")" style="display: flex; align-items: center;">
                        <span class="icon-list mr-3" style="width: 20px; text-align: center; color: #17a2b8;"></span>
                        <span>Đơn ứng tuyển</span>
                      </a></li>
                    </ul>
                  </li>
                }
              }
              <li><a href="@Url.Action("Contact","Home")">Liên hệ</a></li>
              @{ var roleClaim2 = (User != null && User.Identity != null) ? ((System.Security.Claims.ClaimsIdentity)User.Identity).FindFirst("VaiTro") : null; }
              @if (Request.IsAuthenticated && roleClaim2 != null && roleClaim2.Value == "Recruiter")
              {
                <li class="d-lg-none"><a href="@Url.Action("JobsCreate","Jobs")"><span class="mr-2">+</span> Đăng tin tuyển dụng</a></li>
              }
              @if (Request.IsAuthenticated)
              {
                <li class="has-children d-lg-none">
                  @{ 
                    string mAvatarUrl = null; 
                    try {
                      var idClaim = (User != null && User.Identity != null) ? ((System.Security.Claims.ClaimsIdentity)User.Identity).FindFirst(System.Security.Claims.ClaimTypes.NameIdentifier) : null;
                      if (idClaim != null) {
                        var accId = int.Parse(idClaim.Value);
                        using (var mdb = new Project_Recruiment_Huce.Models.JOBPORTAL_ENDataContext(System.Configuration.ConfigurationManager.ConnectionStrings["JOBPORTAL_ENConnectionString"].ConnectionString)) {
                          mdb.ObjectTrackingEnabled = false;
                          var acc = mdb.Accounts.FirstOrDefault(a => a.AccountID == accId);
                          if (acc != null && acc.PhotoID.HasValue) {
                            var photo = mdb.ProfilePhotos.FirstOrDefault(p => p.PhotoID == acc.PhotoID.Value);
                            if (photo != null) { mAvatarUrl = Url.Content(photo.FilePath); }
                          }
                        }
                      }
                    } catch { }
                  }
                  <a href="#"><img src="@(mAvatarUrl ?? Url.Content("~/Content/images/person_1.jpg"))" alt="avatar" style="width:24px;height:24px;border-radius:50%;object-fit:cover;margin-right:8px;" /> @User.Identity.Name</a>
                  <ul class="dropdown">
                    @{ var mobileRoleClaim = ((System.Security.Claims.ClaimsIdentity)User.Identity).FindFirst("VaiTro"); }
                    @if (mobileRoleClaim != null && mobileRoleClaim.Value == "Candidate")
                    {
                      <li><a href="@Url.Action("CandidatesManage", "Candidates")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-user mr-3" style="width: 20px; text-align: center; color: #007bff;"></span>
                        <span>Hồ sơ của tôi</span>
                      </a></li>
                      <li><a href="@Url.Action("MyResumes", "ResumeFiles")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-line-document mr-3" style="width: 20px; text-align: center; color: #28a745;"></span>
                        <span>Quản lý CV</span>
                      </a></li>
                      <li><a href="@Url.Action("MySavedJobs", "SavedJobs")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-bookmark mr-3" style="width: 20px; text-align: center; color: #ffc107;"></span>
                        <span>Công việc đã lưu</span>
                      </a></li>
                      <li><a href="@Url.Action("MyApplications", "Candidates")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-envelope-o mr-3" style="width: 20px; text-align: center; color: #17a2b8;"></span>
                        <span>Đơn ứng tuyển</span>
                      </a></li>
                    }
                    else if (mobileRoleClaim != null && mobileRoleClaim.Value == "Recruiter")
                    {
                      <li><a href="@Url.Action("RecruitersManage", "Recruiters")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-user mr-3" style="width: 20px; text-align: center; color: #007bff;"></span>
                        <span>Hồ sơ của tôi</span>
                      </a></li>
                      <li><a href="@Url.Action("CompaniesManage", "Companies")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-line-briefcase mr-3" style="width: 20px; text-align: center; color: #6f42c1;"></span>
                        <span>Quản lý công ty</span>
                      </a></li>
                      <li><a href="@Url.Action("MyJobs", "Jobs")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-line-documents mr-3" style="width: 20px; text-align: center; color: #fd7e14;"></span>
                        <span>Tin tuyển dụng của tôi</span>
                      </a></li>
                      <li><a href="@Url.Action("MyApplications", "RecruitersApplication")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-list mr-3" style="width: 20px; text-align: center; color: #17a2b8;"></span>
                        <span>Đơn ứng tuyển</span>
                      </a></li>
                    }
                    else
                    {
                      <li><a href="@Url.Action("Manage", "Account")" style="display: flex; align-items: center; padding: 12px 20px;">
                        <span class="icon-cog mr-3" style="width: 20px; text-align: center; color: #6c757d;"></span>
                        <span>Quản lý</span>
                      </a></li>
                    }
                    <li><a href="@Url.Action("LogOffGet", "Account")" style="display: flex; align-items: center; padding: 12px 20px; color: #dc3545;">
                      <span class="icon-power-off mr-3" style="width: 20px; text-align: center;"></span>
                      <span>Đăng xuất</span>
                    </a></li>
                  </ul>
                </li>
              }
              else
              {
                <li class="d-lg-none"><a href="@Url.Action("Login", "Account")">Đăng nhập</a></li>
              }
            </ul>
          </nav>
          
          <div class="right-cta-menu text-right d-flex aligin-items-center col-6">
            <div class="ml-auto">
              @{ var roleClaim3 = (User != null && User.Identity != null) ? ((System.Security.Claims.ClaimsIdentity)User.Identity).FindFirst("VaiTro") : null; }
              @if (Request.IsAuthenticated && roleClaim3 != null && roleClaim3.Value == "Recruiter")
              {
                <a href="@Url.Action("JobsCreate","Jobs")" class="btn btn-outline-white border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-add"></span>Đăng tin tuyển dụng</a>
              }
              @if (Request.IsAuthenticated)
              {
                <div class="dropdown d-none d-lg-inline-block">
                  @{ 
                    string avatarUrl = null; 
                    try {
                      var idClaim = (User != null && User.Identity != null) ? ((System.Security.Claims.ClaimsIdentity)User.Identity).FindFirst(System.Security.Claims.ClaimTypes.NameIdentifier) : null;
                      if (idClaim != null) {
                        var accId = int.Parse(idClaim.Value);
                        using (var navdb = new Project_Recruiment_Huce.Models.JOBPORTAL_ENDataContext(System.Configuration.ConfigurationManager.ConnectionStrings["JOBPORTAL_ENConnectionString"].ConnectionString)) {
                          navdb.ObjectTrackingEnabled = false;
                          var acc = navdb.Accounts.FirstOrDefault(a => a.AccountID == accId);
                          if (acc != null && acc.PhotoID.HasValue) {
                            var photo = navdb.ProfilePhotos.FirstOrDefault(p => p.PhotoID == acc.PhotoID.Value);
                            if (photo != null) { avatarUrl = Url.Content(photo.FilePath); }
                          }
                        }
                      }
                    } catch { }
                  }
                  <a href="#" class="btn btn-primary border-width-2 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="@(avatarUrl ?? Url.Content("~/Content/images/person_1.jpg"))" alt="avatar" style="width:28px;height:28px;border-radius:50%;object-fit:cover;margin-right:8px;" /> @User.Identity.Name
                  </a>
                  <div class="dropdown-menu dropdown-menu-right" style="min-width: 220px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); padding: 8px 0; margin-top: 8px;">
                    @{ var navRoleClaim = ((System.Security.Claims.ClaimsIdentity)User.Identity).FindFirst("VaiTro"); }
                    @if (navRoleClaim != null && navRoleClaim.Value == "Candidate")
                    {
                      <a class="dropdown-item" href="@Url.Action("CandidatesManage", "Candidates")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-user mr-3" style="width: 20px; text-align: center; color: #007bff;"></span>
                        <span>Hồ sơ của tôi</span>
                      </a>
                      <a class="dropdown-item" href="@Url.Action("MyResumes", "ResumeFiles")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-line-document mr-3" style="width: 20px; text-align: center; color: #28a745;"></span>
                        <span>Quản lý CV</span>
                      </a>
                      <a class="dropdown-item" href="@Url.Action("MySavedJobs", "SavedJobs")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-bookmark mr-3" style="width: 20px; text-align: center; color: #ffc107;"></span>
                        <span>Công việc đã lưu</span>
                      </a>
                      <a class="dropdown-item" href="@Url.Action("MyApplications", "Candidates")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-envelope-o mr-3" style="width: 20px; text-align: center; color: #17a2b8;"></span>
                        <span>Đơn ứng tuyển</span>
                      </a>
                      <div class="dropdown-divider" style="margin: 8px 0;"></div>
                    }
                    else if (navRoleClaim != null && navRoleClaim.Value == "Recruiter")
                    {
                      <a class="dropdown-item" href="@Url.Action("RecruitersManage", "Recruiters")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-user mr-3" style="width: 20px; text-align: center; color: #007bff;"></span>
                        <span>Hồ sơ của tôi</span>
                      </a>
                      <a class="dropdown-item" href="@Url.Action("CompaniesManage", "Companies")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-line-briefcase mr-3" style="width: 20px; text-align: center; color: #6f42c1;"></span>
                        <span>Quản lý công ty</span>
                      </a>
                      <a class="dropdown-item" href="@Url.Action("MyJobs", "Jobs")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-line-documents mr-3" style="width: 20px; text-align: center; color: #fd7e14;"></span>
                        <span>Tin tuyển dụng của tôi</span>
                      </a>
                      <a class="dropdown-item" href="@Url.Action("MyApplications", "RecruitersApplication")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-list mr-3" style="width: 20px; text-align: center; color: #17a2b8;"></span>
                        <span>Đơn ứng tuyển</span>
                      </a>
                      <div class="dropdown-divider" style="margin: 8px 0;"></div>
                    }
                    else
                    {
                      <a class="dropdown-item" href="@Url.Action("Manage", "Account")" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s;">
                        <span class="icon-cog mr-3" style="width: 20px; text-align: center; color: #6c757d;"></span>
                        <span>Quản lý</span>
                      </a>
                      <div class="dropdown-divider" style="margin: 8px 0;"></div>
                    }
                    @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
                    {
                      @Html.AntiForgeryToken()
                      <button type="submit" class="dropdown-item" style="padding: 10px 20px; display: flex; align-items: center; transition: all 0.2s; width: 100%; border: none; background: none; text-align: left; color: #dc3545;">
                        <span class="icon-power-off mr-3" style="width: 20px; text-align: center;"></span>
                        <span>Đăng xuất</span>
                      </button>
                    }
                  </div>
                </div>
              }
              else
              {
                <a href="@Url.Action("Login", "Account")" class="btn btn-primary border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-lock_outline"></span>Đăng nhập</a>
              }
            </div>
            <a href="#" class="site-menu-toggle js-menu-toggle d-inline-block d-xl-none mt-lg-2 ml-3" style="z-index: 9999; position: relative; cursor: pointer; padding: 8px; min-width: 44px; min-height: 44px; display: flex; align-items: center; justify-content: center;"><span class="icon-menu h3 m-0 p-0"></span></a>
          </div>

        </div>
      </div>
    </header>

   
    @RenderBody()

    <!-- FOOTER -->
    <footer class="site-footer">

      <a href="#top" class="smoothscroll scroll-top">
        <span class="icon-keyboard_arrow_up"></span>
      </a>

      <div class="container">
        <div class="row mb-5">
          <div class="col-6 col-md-3 mb-4 mb-md-0">
            <h3>Tìm kiếm phổ biến</h3>
            <ul class="list-unstyled">
              <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Lập trình viên" })">Lập trình viên</a></li>
              <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Thiết kế" })">Thiết kế</a></li>
              <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Marketing" })">Marketing</a></li>
              <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Kế toán" })">Kế toán</a></li>
              <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Nhân sự" })">Nhân sự</a></li>
              <li><a href="@Url.Action("JobsListing", "Jobs", new { keyword = "Bán hàng" })">Bán hàng</a></li>
            </ul>
          </div>
          <div class="col-6 col-md-3 mb-4 mb-md-0">
            <h3>Về JobBoard</h3>
            <ul class="list-unstyled">
              <li><a href="@Url.Action("About", "Home")">Giới thiệu</a></li>
              <li><a href="@Url.Action("JobsListing", "Jobs")">Tìm việc làm</a></li>
              <li><a href="@Url.Action("Contact", "Home")">Liên hệ</a></li>
              @if (!Request.IsAuthenticated)
              {
                <li><a href="@Url.Action("Register", "Account")">Đăng ký tài khoản</a></li>
              }
            </ul>
          </div>
          <div class="col-6 col-md-3 mb-4 mb-md-0">
            <h3>Hỗ trợ</h3>
            <ul class="list-unstyled">
              <li><a href="@Url.Action("Contact", "Home")">Trung tâm trợ giúp</a></li>
              <li><a href="@Url.Action("Contact", "Home")">Chính sách bảo mật</a></li>
              <li><a href="@Url.Action("Contact", "Home")">Điều khoản sử dụng</a></li>
              @if (Request.IsAuthenticated)
              {
                <li><a href="@Url.Action("Manage", "Account")">Quản lý tài khoản</a></li>
              }
            </ul>
          </div>
          <div class="col-6 col-md-3 mb-4 mb-md-0">
            <h3>Kết nối với chúng tôi</h3>
            <div class="footer-social">
              <a href="https://web.facebook.com/phu.ai.995620/?locale=vi_VN" title="Facebook" target="_blank" rel="noopener noreferrer"><span class="icon-facebook"></span></a>
              <a href="https://github.com/daiphu1801/Project_Recruiment_Huce.git" title="Github" target="_blank" rel="noopener noreferrer" ><span class="icon-github"></span></a>
              <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" title="Youtube" target="_blank" rel="noopener noreferrer"><span class="icon-youtube"></span></a>
              <a href="https://www.linkedin.com/in/ph%C3%BA-%C4%91%E1%BA%A1i-985152349/" title="LinkedIn" target="_blank" rel="noopener noreferrer"><span class="icon-linkedin"></span></a>
            </div>
            <p class="mt-3 mb-0"><small>Email: meomaybe@gmail.com</small></p>
            <p class="mb-0"><small>Hotline: 1900-1836</small></p>
          </div>
        </div>

        <div class="row text-center">
          <div class="col-12">
            <p class="copyright"><small>
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> <strong>JobBoard</strong>. Tất cả quyền được bảo lưu. | Nền tảng tuyển dụng hàng đầu Việt Nam
            </small></p>
          </div>
        </div>
      </div>
    </footer>
  
  </div>

    <!-- SCRIPTS -->
    <script src="~/Scripts/js/jquery.min.js"></script>
    <script src="~/Scripts/js/bootstrap.bundle.min.js"></script>
    <script src="~/Scripts/js/isotope.pkgd.min.js"></script>
    <script src="~/Scripts/js/stickyfill.min.js"></script>
    <script src="~/Scripts/js/jquery.fancybox.min.js"></script>
    <script src="~/Scripts/js/jquery.easing.1.3.js"></script>
    
    <script src="~/Scripts/js/jquery.waypoints.min.js"></script>
    <script src="~/Scripts/js/jquery.animateNumber.min.js"></script>
    <script src="~/Scripts/js/owl.carousel.min.js"></script>
    
    <script src="~/Scripts/js/bootstrap-select.min.js"></script>
    
    <script src="~/Scripts/js/custom.js?v=@DateTime.Now.Ticks"></script>

    @RenderSection("Scripts", required: false)
     
  </body>
</html>