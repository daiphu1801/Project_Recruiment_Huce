@model Project_Recruiment_Huce.Areas.Admin.Models.CompanyListVm
@Html.Partial("~/Areas/Admin/Views/Shared/_Breadcrumbs.cshtml")

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header"><h5 class="card-title">Thông tin công ty</h5></div>
            <div class="card-body">
                <div class="row mb-2"><div class="col-4 text-secondary">ID</div><div class="col-8">@Model.CompanyId</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Tên công ty</div><div class="col-8">@Model.CompanyName</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Mã số thuế</div><div class="col-8">@(Model.TaxCode ?? "-")</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Lĩnh vực</div><div class="col-8">@Model.Industry</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Địa chỉ</div><div class="col-8">@(Model.Address ?? "-")</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">SĐT</div><div class="col-8">@Model.Phone</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Số Fax</div><div class="col-8">@Model.Fax</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Email</div><div class="col-8">@Model.CompanyEmail</div></div>
                <div class="row mb-2">
                    <div class="col-4 text-secondary">Website</div><div class="col-8">
                        @if (!string.IsNullOrEmpty(Model.Website))
                        {<a href="@Model.Website" target="_blank">@Model.Website</a> }
                    else
                    { <text>-</text>}
                    </div>
                </div>

                <div class="row mb-2">
                    <label class="col-4 text-secondary">Mô tả:</label>
                    <div class="col-sm-8">
                        <div class="border p-3 rounded bg-light" style="line-height:1;">
                            @if (!string.IsNullOrEmpty(Model.Description))
                            {
                                @Html.Raw(Model.Description)
                            }
                            else
                            {
                                <span class="text-muted">Chưa có mô tả</span>
                            }
                        </div>
                    </div>
                </div>
                <div class="row mb-2"><div class="col-4 text-secondary">Trạng thái</div><div class="col-8">@(Model.ActiveFlag == 1 ? "Hoạt động" : "Tạm khóa")</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Ngày tạo</div><div class="col-8">@(Model.CreatedAt?.ToString("dd/MM/yyyy") ?? "-")</div></div>
                <div class="row mb-2"><div class="col-4 text-secondary">Photo ID</div><div class="col-8">@(Model.PhotoId?.ToString() ?? "-")</div></div>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card">
            <div class="card-header"><h6 class="mb-0">Logo</h6></div>
            <div class="card-body text-center">
                @if (!string.IsNullOrEmpty(Model.PhotoUrl))
                {
                    <img src="@Url.Content(Model.PhotoUrl)" alt="@Model.CompanyName" class="img-fluid rounded-circle mb-3" style="width: 200px; height: 200px; object-fit: cover;" />
                }
                else
                {
                    <div class="rounded-circle bg-secondary d-flex align-items-center justify-content-center text-white mx-auto mb-3" style="width: 200px; height: 200px;">
                        <i class="bi bi-person" style="font-size: 80px;"></i>
                    </div>
                }
            </div>
        </div>

        @if (!string.IsNullOrEmpty(Model?.Address))
        {
            <div class="bg-light p-3 border rounded mb-4">
                <h3 class="text-primary mt-3 h5 pl-3 mb-3">
                    <span class="icon-map-marker mr-2"></span>Địa chỉ
                </h3>
                <div class="px-3 pb-3">
                    <iframe width="100%"
                            height="250"
                            frameborder="0"
                            style="border:0; border-radius: 5px;"
                            src="https://maps.google.com/maps?q=@System.Web.HttpUtility.UrlEncode(Model.Address)&t=&z=15&ie=UTF8&iwloc=&output=embed"
                            allowfullscreen>
                    </iframe>

                    <div class="mt-2 text-center">
                        <a href="https://www.google.com/maps/search/?api=1&query=@System.Web.HttpUtility.UrlEncode(Model.Address)"
                           target="_blank"
                           class="small text-muted">
                            <i class="icon-external-link"></i> Mở trong Google Maps
                        </a>
                    </div>
                </div>
            </div>
        }

        <div class="card mt-3">
            <div class="card-header"><h6 class="mb-0">Liên kết</h6></div>
            <div class="card-body">
                @if (Model.RecruiterId.HasValue)
                {
                    <a class="btn btn-outline-primary btn-sm" href="@Url.Action("Details", "Recruiters", new { area = "Admin", id = Model.RecruiterId })">Nhà tuyển dụng</a>
                }
                else
                {
                    <span class="btn btn-outline-secondary btn-sm disabled" aria-disabled="true">Chưa có NTD</span>
                }
                <a class="btn btn-outline-primary btn-sm" href="@Url.Action("Index","JobPosts", new { area="Admin", companyId = Model.CompanyId })">Tin tuyển dụng</a>
                <a class="btn btn-outline-primary btn-sm" href="@Url.Action("Index","BankCards", new { area="Admin", companyId = Model.CompanyId })">Thẻ ngân hàng</a>
            </div>
        </div>
    </div>
</div>