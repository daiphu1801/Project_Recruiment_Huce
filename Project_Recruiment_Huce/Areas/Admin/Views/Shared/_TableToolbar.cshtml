@model string
@{
    var q = Model ?? string.Empty;
}
<div class="card mb-3">
  <div class="card-body">
    <form method="get" class="d-flex align-items-center flex-wrap gap-2">
      @if (ViewBag.CenterSearch == true) {
        var sw = (string)(ViewBag.SearchWidth ?? "320px");
        <div class="input-group mx-auto flex-shrink-0" style="width:@sw;min-width:260px;">
          <input type="text" name="q" value="@q" class="form-control" placeholder="Tìm kiếm..." />
          <button class="btn btn-outline-secondary" type="submit" title="Tìm kiếm"><i class="bi bi-search"></i></button>
        </div>
      } else {
        <div class="input-group flex-grow-1" style="min-width:260px;">
          <input type="text" name="q" value="@q" class="form-control" placeholder="Tìm kiếm..." />
          <button class="btn btn-outline-secondary" type="submit" title="Tìm kiếm"><i class="bi bi-search"></i></button>
        </div>
      }
      @if (ViewBag.RoleOptions != null) {
        <div class="flex-grow-1" style="min-width:180px;max-width:260px;">
          @Html.DropDownList("role", (System.Web.Mvc.SelectList)ViewBag.RoleOptions, "-- Vai trò --", new { @class = "form-select" })
        </div>
      }
      @if (ViewBag.StatusOptions != null) {
        <div class="flex-grow-1" style="min-width:180px;max-width:260px;">
          @Html.DropDownList("status", (System.Web.Mvc.SelectList)ViewBag.StatusOptions, "-- Trạng thái --", new { @class = "form-select" })
        </div>
      }
      @if (ViewBag.CompanyOptions != null) {
        <div class="flex-grow-1" style="min-width:180px;max-width:260px;">
          @Html.DropDownList("companyId", (System.Web.Mvc.SelectList)ViewBag.CompanyOptions, "-- Công ty --", new { @class = "form-select" })
        </div>
      }
     
      @if (ViewBag.ShowEmployment == true) {
        var employment = (Request["employment"] ?? "").ToString();
        <div class="flex-grow-1" style="min-width:180px;max-width:260px;">
          @Html.DropDownList("employment", new System.Web.Mvc.SelectList(new[]{
            new {Text = "-- Hình thức --", Value = ""},
            new {Text = "Full-time", Value = "Full-time"},
            new {Text = "Part-time", Value = "Part-time"},
            new {Text = "Internship", Value = "Internship"},
            new {Text = "Contract", Value = "Contract"}
          }, "Value", "Text", employment), null, new { @class = "form-select" })
        </div>
      }
      <a class="btn btn-outline-secondary flex-shrink-0" href="@Request.RawUrl.Split('?')[0]" title="Làm mới"><i class="bi bi-arrow-clockwise"></i></a>
      <div class="ms-auto d-none d-md-block"></div>
      @if (ViewBag.AddUrl != null) {
        <a class="btn btn-primary flex-shrink-0 ms-auto" href="@ViewBag.AddUrl">
          <i class="bi bi-plus-lg me-1"></i>@(ViewBag.AddLabel ?? "Thêm mới")
        </a>
      }
    </form>
  </div>
  </div>
 
 
