@model Project_Recruiment_Huce.Areas.Admin.Models.JobPostListVm
@using Project_Recruiment_Huce.Areas.Admin.Models
@{
    ViewBag.Title = "Xóa tin tuyển dụng";
}
@Html.Partial("~/Areas/Admin/Views/Shared/_Breadcrumbs.cshtml")

<div class="alert alert-warning">
  <i class="bi bi-exclamation-triangle"></i> Bạn có chắc chắn muốn xóa tin tuyển dụng này?
</div>

<div class="card">
  <div class="card-header">
    <h5 class="card-title mb-0"><i class="bi bi-trash"></i> Xác nhận xóa tin tuyển dụng</h5>
  </div>
  <div class="card-body">
    <table class="table table-borderless">
      <tr>
        <th width="150">ID:</th>
        <td>@Model.JobId</td>
      </tr>
      <tr>
        <th>Mã công việc:</th>
        <td>@Model.JobCode</td>
      </tr>
      <tr>
        <th>Tiêu đề:</th>
        <td>@Model.Title</td>
      </tr>
      <tr>
        <th>Công ty:</th>
        <td>@Model.CompanyName</td>
      </tr>
      <tr>
        <th>Nhà tuyển dụng:</th>
        <td>@Model.RecruiterName</td>
      </tr>
      <tr>
        <th>Lương:</th>
        <td>@(AdminUiHelpers.FormatMoney(Model.SalaryMin)) - @(AdminUiHelpers.FormatMoney(Model.SalaryMax)) @Model.SalaryUnit</td>
      </tr>
      <tr>
        <th>Hình thức:</th>
        <td>@Model.Employment</td>
      </tr>
      <tr>
        <th>Trạng thái:</th>
        <td>@Html.Partial("~/Areas/Admin/Views/Shared/_StatusBadge.cshtml", System.Tuple.Create(Model.Status, "JobPosts"))</td>
      </tr>
      <tr>
        <th>Hạn nộp:</th>
        <td>@(Model.Deadline?.ToString("dd/MM/yyyy") ?? "-")</td>
      </tr>
      <tr>
        <th>Đăng lúc:</th>
        <td>@(Model.PostedAt?.ToString("dd/MM/yyyy") ?? "-")</td>
      </tr>
    </table>

    @using (Html.BeginForm("Delete", "JobPosts", FormMethod.Post))
    {
      @Html.AntiForgeryToken()
      @Html.Hidden("id", Model.JobId)
      
      <div class="alert alert-danger mt-3">
        <strong>Cảnh báo:</strong> Hành động này không thể hoàn tác. Tất cả dữ liệu liên quan đến tin tuyển dụng này sẽ bị xóa.
      </div>

      <div class="d-flex justify-content-end gap-2 mt-3">
        <a href="@Url.Action("Index")" class="btn btn-secondary">
          <i class="bi bi-arrow-left"></i> Hủy
        </a>
        <button type="submit" class="btn btn-danger">
          <i class="bi bi-trash"></i> Xác nhận xóa
        </button>
      </div>
    }
  </div>
</div>

