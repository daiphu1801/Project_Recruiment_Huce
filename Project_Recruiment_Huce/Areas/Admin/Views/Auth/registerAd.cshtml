@model Project_Recruiment_Huce.Models.Accounts.RegisterViewModel
@{
    Layout = "~/Areas/Admin/Views/Shared/_AuthLayout.cshtml";
    ViewBag.Title = "Đăng ký";
}

<div class="card auth-card shadow-lg">
  <div class="auth-header">
    <h3 class="mb-2"><i class="bi bi-person-plus-fill"></i> Tạo tài khoản Quản trị</h3>
    <p class="mb-0 opacity-75">Điền thông tin để tạo tài khoản mới</p>
  </div>
  <div class="auth-body">
    @using (Html.BeginForm("Register", "Auth", FormMethod.Post, new { area = "Admin" }))
    {
      @Html.AntiForgeryToken()
      if (!ViewData.ModelState.IsValid)
      {
        @Html.ValidationSummary(false, "", new { @class = "alert alert-danger", role = "alert" })
      }
      <div class="mb-3">
        <label class="form-label">Tên đăng nhập</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-person"></i></span>
          @Html.TextBoxFor(m => m.TenDangNhap, new { @class = "form-control", placeholder = "Tên đăng nhập", required = "required" })
        </div>
        @Html.ValidationMessageFor(m => m.TenDangNhap, "", new { @class = "text-danger small" })
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-envelope"></i></span>
          @Html.TextBoxFor(m => m.Email, new { @class = "form-control", placeholder = "Email", type = "email", required = "required" })
        </div>
        @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger small" })
      </div>
      <div class="mb-3">
        <label class="form-label">Số điện thoại</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-telephone"></i></span>
          @Html.TextBoxFor(m => m.SoDienThoai, new { @class = "form-control", placeholder = "Số điện thoại" })
        </div>
        @Html.ValidationMessageFor(m => m.SoDienThoai, "", new { @class = "text-danger small" })
      </div>
      <div class="mb-3">
        <label class="form-label">Mật khẩu</label>
        <div class="input-group" style="position: relative;">
          <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
          @Html.PasswordFor(m => m.Password, new { @class = "form-control", placeholder = "Mật khẩu (tối thiểu 6 ký tự, có chữ hoa, chữ thường và số)", required = "required", id = "Password", style = "padding-right: 40px;" })
          <span class="password-toggle-icon icon-eye" onclick="togglePassword('Password', this)" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 16px; color: #666; user-select: none; z-index: 10;"></span>
        </div>
        @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger small" })
        <small class="form-text text-muted">Mật khẩu phải có tối thiểu 6 ký tự, bao gồm chữ hoa, chữ thường và số</small>
      </div>
      <div class="mb-3">
        <label class="form-label">Xác nhận mật khẩu</label>
        <div class="input-group" style="position: relative;">
          <span class="input-group-text"><i class="bi bi-lock"></i></span>
          @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", placeholder = "Xác nhận mật khẩu", required = "required", id = "ConfirmPassword", style = "padding-right: 40px;" })
          <span class="password-toggle-icon icon-eye" onclick="togglePassword('ConfirmPassword', this)" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 16px; color: #666; user-select: none; z-index: 10;"></span>
        </div>
        @Html.ValidationMessageFor(m => m.ConfirmPassword, "", new { @class = "text-danger small" })
      </div>
      <div class="d-grid mb-3">
        <button type="submit" class="btn btn-primary btn-lg">
          <i class="bi bi-person-check-fill me-2"></i>Đăng ký
        </button>
      </div>
    }
    <div class="text-center">
      <p class="mb-0">
        Đã có tài khoản? 
        <a href="@Url.Action("Login","Auth", new { area = "Admin" })" class="text-decoration-none">Đăng nhập ngay</a>
      </p>
    </div>
  </div>
</div>

@section Scripts {
    <script>
        function togglePassword(inputId, iconElement) {
            var input = document.getElementById(inputId);
            if (input.type === "password") {
                input.type = "text";
                iconElement.classList.remove("icon-eye");
                iconElement.classList.add("icon-eye-slash");
            } else {
                input.type = "password";
                iconElement.classList.remove("icon-eye-slash");
                iconElement.classList.add("icon-eye");
            }
        }
    </script>
}